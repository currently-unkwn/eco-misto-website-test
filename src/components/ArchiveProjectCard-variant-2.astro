---
// Tools
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

// Compositions
import Stack from "./compositions/Stack.astro";
import Frame from "./compositions/Frame.astro";

// Components
import Text from "./ui/Text.astro";
import Heading from "./ui/Heading.astro";
import Cluster from "./compositions/Cluster.astro";

// Assets

// Data

type Props = {
  project: CollectionEntry<"projects">;
};

const { project } = Astro.props;
const { title, description, cover } = project.data;
---

<article class="archive-project-item">
  <a href={`/projects/${project.slug}`} class="wrapper">
    <Frame ratio="3:2" class="archive-project-img">
      <Image src={cover} alt="" />
    </Frame>
    <Stack space="space-3" class="archive-project-text">
      <Heading tagName="h4" size="h6" class="font-heading title color-primary"
        >{title}</Heading
      >
      <Text tagName="p" size="medium" class="description color-accent"
        >{description}</Text
      >
    </Stack>
  </a>
</article>

<style>
  @import "@styles/03-utilities/breakpoints.css";

  .wrapper {
    text-decoration: none;
  }

  .archive-project-item {
    --_border-radius: var(--rounded-xl);

    /* padding-block-end: var(--space-7-fixed); */
    background-color: var(--color-secondary);
    border-block-end: 1px solid var(--color-gray-200);
    border-radius: var(--_border-radius);
    overflow: hidden;

    @media (--laptop-and-up) {
      --_border-radius: var(--rounded-2xl);
      /* --_img-size: 15rem; */
    }
  }

  .archive-project-img {
  }

  .archive-project-text {
    padding: var(--space-4-fixed) var(--space-6-fixed) var(--space-8-fixed);
  }
</style>

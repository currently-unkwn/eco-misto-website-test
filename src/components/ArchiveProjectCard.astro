---
// Tools
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

// Compositions
import Stack from "./compositions/Stack.astro";
import Frame from "./compositions/Frame.astro";

// Components
import Text from "./ui/Text.astro";
import Heading from "./ui/Heading.astro";
import Cluster from "./compositions/Cluster.astro";

// Assets

// Data

type Props = {
  project: CollectionEntry<"projects">;
};

const { project } = Astro.props;
const { title, description, image } = project.data;
---

<article class="archive-project-item">
  <a href={`/projects/${project.slug}`}>
    <Cluster space="space-7" alignItems="center">
      <Frame ratio="1:1" class="archive-project-img">
        <Image src={image} alt="" />
      </Frame>
      <Stack space="space-3">
        <Heading tagName="h4" size="h5" class="font-heading">{title}</Heading>
        <Text tagName="p" size="medium">{description}</Text>
      </Stack>
    </Cluster>
  </a>
</article>

<style>
  @import "@styles/03-utilities/breakpoints.css";

  .archive-project-item {
    padding-block-end: var(--space-7-fixed);
    border-block-end: 1px solid var(--color-gray-200);
  }

  .archive-project-img {
    --_border-radius: var(--rounded-xl);
    --_img-size: 8rem;

    width: var(--_img-size);
    border-radius: var(--_border-radius);

    @media (--tablet-and-up) {
      --_img-size: 12rem;
    }

    @media (--laptop-and-up) {
      --_border-radius: var(--rounded-2xl);
      --_img-size: 15rem;
    }
  }
</style>

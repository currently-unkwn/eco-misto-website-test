---
// Tools
import { getCollection } from "astro:content";

// Compositions
import Stack from "../compositions/Stack.astro";

// Components
import Heading from "../ui/Heading.astro";
import Link from "../ui/Link.astro";
import ArchiveProjectCard from "../ArchiveProjectCard.astro";
import AutoGrid from "../compositions/AutoGrid.astro";

// Data
const projects = await getCollection("projects", ({ data }) => !data.isDraft);

// TODO: How project should be sorted?
---

<Stack space="space-10">
  <Heading tagName="h3" size="h5">Реалізовані проєкти</Heading>

  <AutoGrid maxColumns="2" space="space-9" minItemWidth="320px">
    {
      projects
        .filter((project, index) => {
          return !project.data.isActive && index < 5;
        })
        .map((project) => {
          return <ArchiveProjectCard project={project} />;
        })
    }
  </AutoGrid>
</Stack>


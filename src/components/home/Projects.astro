---
// Tools
import { getCollection } from "astro:content";
import { Image } from "astro:assets";

// Compositions
import Center from "../compositions/Center.astro";
import AutoGrid from "../compositions/AutoGrid.astro";
import Frame from "../compositions/Frame.astro";

// Components
import Section from "../ui/Section.astro";
import Heading from "../ui/Heading.astro";
import Text from "../ui/Text.astro";
import Link from "@ui/Link.astro";
import ActiveProjectCard from "../ActiveProjectCard.astro";

// Data
const projects = await getCollection("projects", ({ data }) => !data.isDraft);
---

<Section class="projects">
  <Center maxWidth="87.5rem" space={{ default: "space-6", tablet: "space-7" }}>
    <div>
      <Heading tagName="h3" size="h4" class="font-heading"
        >Активні проекти</Heading
      >
      <AutoGrid maxColumns="2" space="space-7">
        {
          projects
            .filter(({ data }) => data.active)
            .map((project) => {
              return <ActiveProjectCard project={project} />;
            })
        }
      </AutoGrid>
    </div>

    <!-- <div>
      <Heading tagName="h3" size="h4">Архівні проекти</Heading>
      {
        projects
          .filter(({ data }) => !data.active)
          .map((project) => {
            return (
              <div>
                <a href={`/projects/${project.slug}`}>{project.data.title}</a>
              </div>
            );
          })
      }
    </div> -->
  </Center>
</Section>

<style></style>

---
// Tools
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";
import { Icon } from "astro-icon/components";

// Compositions
import Stack from "../compositions/Stack.astro";
import Frame from "../compositions/Frame.astro";

// Components
import Text from "../ui/Text.astro";
import Heading from "../ui/Heading.astro";
import Link from "../ui/Link.astro";
import ArrowIcon from "../ui/ArrowIcon.astro";

// Assets

// Data

type Props = {
  project: CollectionEntry<"projects">;
};

const { project } = Astro.props;
const { title, description, cover } = project.data;
---

<article class="archive-project-item">
  <Link href={`/projects/${project.slug}`}>
    <div class="wrapper">
      <Stack space="space-7">
        <Frame ratio="16:9" class="img-wrapper">
          <Image src={cover} alt="" />
        </Frame>
        <Stack space="space-2" class="info">
          <Heading
            tagName="h4"
            size={{ default: "h6" }}
            class="title font-heading color-secondary">{title}</Heading
          >
          <Text tagName="p" size="medium" class="color-dark-gray"
            >{description}</Text
          >
        </Stack>
      </Stack>
    </div>
  </Link>
</article>

<style>
  @import "@styles/04-utilities/breakpoints.css";

  .archive-project-item {
    & a {
      width: 100%;
    }
  }

  .archive-project-item:hover {
    & img {
      transform: scale3d(1.05, 1.05, 1.05);
      will-change: transform;
    }
  }

  .wrapper {
    text-decoration: none;
  }

  .title {
    transition: color var(--transition-default);
  }

  .info {
    /* --_border-radius: var(--rounded-lg);

    padding: var(--space-8-fixed) var(--space-6-fixed);

    border-bottom-left-radius: var(--_border-radius);
    border-bottom-right-radius: var(--_border-radius);

    background-color: var(--color-primary);

    @media (--laptop-and-up) {
      --_border-radius: var(--rounded-xl);
    } */
  }

  .img-wrapper {
    --_border-radius: var(--rounded-lg);

    border-radius: var(--_border-radius);
    /* border-top-left-radius: var(--_border-radius); */
    /* border-top-right-radius: var(--_border-radius); */

    & img {
      transition: transform 300ms var(--ease-out);
    }

    @media (--laptop-and-up) {
      --_border-radius: var(--rounded-xl);
    }
  }

  .arrow-right {
    --_size: 28px;

    align-self: flex-end;

    margin-inline-start: auto;

    width: var(--_size);
    height: var(--_size);
    & :global(svg) {
      transform: rotate(-45deg);
      transition: transform var(--transition-default);
    }

    @media (--tablet-and-up) {
      --_size: 32px;

      align-self: auto;
    }

    @media (--laptop-and-up) {
      --_size: 40px;
    }
  }

  .archive-project-item:hover .arrow-right {
    & :global(svg) {
      transform: rotate(0deg);
    }
  }
</style>

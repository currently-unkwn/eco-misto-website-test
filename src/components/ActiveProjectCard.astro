---
// Tools
import type { CollectionEntry } from "astro:content";
import { Image } from "astro:assets";

// Compositions
import Frame from "./compositions/Frame.astro";

// Components
import Heading from "./ui/Heading.astro";
import Link from "./ui/Link.astro";
import Text from "./ui/Text.astro";

// Data
type Props = {
  project: CollectionEntry<"projects">;
};

const { project } = Astro.props;
const { title, description, image, color = "accent" } = project.data;

const backgroundColor = `var(--color-${color})`;
---

<article>
  <Link href={`/projects/${project.slug}`}>
    <Frame ratio="4:3" class="project-image">
      <Image src={image} alt="" />
    </Frame>
    <Heading tagName="h4" size="h5" class="font-heading">
      {title}
    </Heading>
    <Text tagName="p" size="medium">
      {description}
    </Text>
  </Link>
</article>

<style define:vars={{ backgroundColor }}>
  @import "@styles/03-utilities/breakpoints.css";

  .project-image {
    /* height: 28.5rem; */
    --_border-radius: var(--rounded-2xl);

    padding: var(--space-10-fixed);
    background-color: var(--backgroundColor);
    border-radius: var(--_border-radius);

    @media (--laptop-and-up) {
      --_border-radius: var(--rounded-3xl);
    }
  }
</style>
